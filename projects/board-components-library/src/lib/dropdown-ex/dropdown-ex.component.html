<div class="clr-row clr-flex-nowrap clr-align-items-center">
  <label class="label-title"
         *ngIf="dropdownLabel.length > 0"
         [style.minWidth.px]="dropdownLabelMinWidth">
    {{dropdownLabel}}<span *ngIf="dropdownIsRequired">*</span>:
  </label>
  <div *ngIf="isPreparing"
       [ngStyle]="{'min-width':dropdownMinWidth + 'px'}"
       class="base-show preparing">
    <span>Preparing items...</span>
    <span class="spinner spinner-sm"></span>
  </div>
  <div *ngIf="dropdownDisabled"
       [ngStyle]="{'min-width':dropdownMinWidth + 'px'}"
       class="base-show disabled">
    <span>{{activeText}}</span>
    <clr-icon shape="lock"></clr-icon>
  </div>
  <clr-dropdown #dropdownEx *ngIf="isReadied" [clrCloseMenuOnItemClick]="true">
    <div [class.active]="active"
         [@check]="checkSelfAnimation"
         [ngStyle]="{'min-width':dropdownMinWidth + 'px'}"
         class="clr-align-items-center base-show"
         clrDropdownToggle>
      <span>{{activeText}}</span>
      <div class="dropdown-icon" [class.open-menu]="active" [class.close-menu]="!active">
        <clr-icon shape="caret up"></clr-icon>
      </div>
    </div>
    <clr-dropdown-menu [ngStyle]="{'min-width':dropdownMinWidth + 'px'}" style="padding: 5px;">
      <label class="dropdown-header">{{dropdownMenuHeader}}</label>
      <div *ngIf="dropdownShowSearch" class="search-container">
        <label for="search"></label>
        <input id="search"
               type="text"
               (click)="$event.stopPropagation()"
               (keyup)="filterExecute($event)">
        <clr-icon shape="search"></clr-icon>
      </div>
      <div *ngFor="let item of filteredDropdownItems;let i = index"
           [class.multiple]="isMultipleModel"
           class="clr-row clr-flex-nowrap clr-align-items-center item-container">
        <button *ngIf="isCustomTemplate"
                type="button"
                clrDropdownItem
                [disabled]="itemDisabled(item)"
                [class.active]="itemActive(item)"
                (click)="changeItemSelect(item)">
          <ng-container *ngTemplateOutlet="contentTemp.first.templateRef; context: item"></ng-container>
        </button>
        <button *ngIf="isSingleModel"
                type="button"
                clrDropdownItem
                [class.active]="itemActive(item)"
                [disabled]="itemDisabled(item)"
                (click)="changeItemSelect(item)">
          {{getItemDescription(item)}}
        </button>
        <div *ngIf="isMultipleModel"
             class="multiple-container"
             [class.active]="itemActive(item)"
             (click)="setMultipleSelect(item)">
          <clr-icon shape="success-standard" [class.is-solid] = "itemActive(item)"></clr-icon>
          <label>{{getItemDescription(item)}}</label>
        </div>
      </div>
      <span *ngIf="hasNoDataForSearch" class="dropdown-divider"></span>
      <span *ngIf="hasNoDataForSearch">No item for search</span>
      <span *ngIf="hasMoreItems" class="dropdown-divider"></span>
      <a *ngIf="hasMoreItems" href="javascript:void(0)" (click)="incShowTimes($event)">
        <span class="badge badge-2">{{dropdownItems.length - filteredDropdownItems.length}}</span>
      </a>
    </clr-dropdown-menu>
  </clr-dropdown>
</div>



